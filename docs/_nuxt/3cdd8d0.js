(window.webpackJsonp=window.webpackJsonp||[]).push([[4,2,3],{240:function(t,e,n){"use strict";e.a={posts:[{thumbnail:n(241),title:"Adding a Content Security Policy to Your GitHub Pages Site",shortDesc:"Content security policies (CSPs) have been around for years and are a great way to provide blanket protection from various web...",url:"/blog/2022/add-csp-to-github-pages",tags:["Technical","Web","Security"],publishDate:new Date(2022,1,18)},{thumbnail:"",title:"Content Security Policies: Explained by Example",shortDesc:"Content security policies (CSPs) have been around for years and are a great way to provide blanket protection from various web...",tags:["Technical","Web","Security"],publishDate:new Date(2022,1,18)}]}},241:function(t,e,n){t.exports=n.p+"img/icon.4f346bd.svg"},243:function(t,e,n){"use strict";var r=n(11),o=n(1),l=n(3),c=n(102),h=n(18),d=n(15),f=n(182),m=n(38),v=n(101),_=n(181),C=n(4),w=n(70).f,y=n(32).f,x=n(17).f,S=n(244),P=n(245).trim,T="Number",I=o.Number,k=I.prototype,E=o.TypeError,N=l("".slice),D=l("".charCodeAt),A=function(t){var e=_(t,"number");return"bigint"==typeof e?e:G(e)},G=function(t){var e,n,r,o,l,c,h,code,d=_(t,"number");if(v(d))throw E("Cannot convert a Symbol value to a number");if("string"==typeof d&&d.length>2)if(d=P(d),43===(e=D(d,0))||45===e){if(88===(n=D(d,2))||120===n)return NaN}else if(48===e){switch(D(d,1)){case 66:case 98:r=2,o=49;break;case 79:case 111:r=8,o=55;break;default:return+d}for(c=(l=N(d,2)).length,h=0;h<c;h++)if((code=D(l,h))<48||code>o)return NaN;return parseInt(l,r)}return+d};if(c(T,!I(" 0o1")||!I("0b1")||I("+0x1"))){for(var W,H=function(t){var e=arguments.length<1?0:I(A(t)),n=this;return m(k,n)&&C((function(){S(n)}))?f(Object(e),n,H):e},j=r?w(I):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),L=0;j.length>L;L++)d(I,W=j[L])&&!d(H,W)&&x(H,W,y(I,W));H.prototype=k,k.constructor=H,h(o,T,H)}},244:function(t,e,n){var r=n(3);t.exports=r(1..valueOf)},245:function(t,e,n){var r=n(3),o=n(21),l=n(13),c=n(246),h=r("".replace),d="["+c+"]",f=RegExp("^"+d+d+"*"),m=RegExp(d+d+"*$"),v=function(t){return function(e){var n=l(o(e));return 1&t&&(n=h(n,f,"")),2&t&&(n=h(n,m,"")),n}};t.exports={start:v(1),end:v(2),trim:v(3)}},246:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},247:function(t,e,n){"use strict";n.r(e);var r={props:{title:{type:String,required:!0},publishDate:{type:Date,default:function(){return new Date}},tags:{type:Array,default:function(){return[]}},thumbnail:{type:String,default:""}}},o=n(22),component=Object(o.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"mx-3 md:mx-0 bg-white p-4 sm:p-8 rounded"},[n("h1",{staticClass:"text-3xl"},[t._v(t._s(t.title))]),t._v(" "),n("div",{staticClass:"flex flex-row items-center mt-2 mb-6 flex-wrap"},[n("div",{staticClass:"mr-3 text-md text-gray-700"},[t._v("\n        "+t._s(t._f("formatMonthYear")(t.publishDate))+"\n      ")]),t._v(" "),n("br")]),t._v(" "),n("div",{staticClass:"flex flex-col items-center"},[n("img",{staticClass:"pb-6",attrs:{src:t.thumbnail}})]),t._v(" "),n("div",{staticClass:"leading-8 text-lg font-normal"},[t._t("default")],2)]),t._v(" "),n("div",{staticClass:"px-8 mt-10"},[n("div",{staticClass:"text-xl font-bold mb-3"},[t._v("Tags")]),t._v(" "),n("div",{staticClass:"flex flex-row items-center"},t._l(t.tags,(function(e){return n("div",{key:e,staticClass:"px-2 py-1 bg-primary text-white mr-2 rounded text-xs"},[t._v("\n        "+t._s(e)+"\n      ")])})),0)])])}),[],!1,null,null,null);e.default=component.exports},248:function(t,e,n){"use strict";n.r(e);n(243);var r={name:"EmbedGist",props:{gist:{type:String,required:!0},height:{type:Number,default:300}}},o=n(22),component=Object(o.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("iframe",{attrs:{width:"100%",height:t.height,src:"data:text/html;charset=utf-8;doctype=html,\n  <!DOCTYPE html>\n  <head><base target='_blank' /></head>\n  <body><script src='https://gist.github.com/"+t.gist+".js'><\/script>\n  </body>"}})])}),[],!1,null,null,null);e.default=component.exports},257:function(t,e,n){"use strict";n.r(e);n(184),n(12);var r=n(247),o=n(240),l=n(248),c={components:{PostLayout:r.default,Gist:l.default},data:function(){return{blogDefinition:o.a}},head:function(){return{title:"Add a Content Security Policy to a GitHub Pages Site",meta:[{hid:"csp-github-pages-description",name:"description",content:"Delivering a website through a CDN can give you headaches when it comes to CSPs. Luckily there is a way to deliver CSPs without headers."}]}},computed:{cspPostDefinition:function(){return this.blogDefinition.posts.find((function(t){return"/blog/2022/add-csp-to-github-pages"===t.url}))}}},h=n(22),component=Object(h.a)(c,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("PostLayout",{attrs:{title:t.cspPostDefinition.title,"publish-date":t.cspPostDefinition.date,tags:t.cspPostDefinition.tags,thumbnail:t.cspPostDefinition.thumbnail,"thumbnial-height":t.cspPostDefinition.thumbnailHeight}},[n("p",{staticClass:"mb-6"},[t._v("\n      Content security policies (CSPs) have been around for years and are a\n      great way to provide blanket protection from a variety of web page\n      vulnerabilities. CSPs are typically delivered to a browser using a\n      response header from the web server called\n      "),n("i",[t._v("Content-Security-Policy")]),t._v(". This works great and provides the\n      broadest range of support for CSP features.\n    ")]),t._v(" "),n("p",{staticClass:"mb-8"},[t._v("\n      But what if we have no control over the HTTP responses from the web\n      server? When a site is hosted on GitHub pages (or any other CDN), there\n      is no access to the web server, so we can’t return our own response\n      headers. The following solution will work for any hosting environment\n      where we can’t modify response headers.\n    ")]),t._v(" "),n("p",{staticClass:"mb-2 text-xl"},[n("strong",[t._v("How to Implement")])]),t._v(" "),n("p",{staticClass:"mb-6"},[t._v("Enter the CSP "),n("strong",[t._v("<meta>")]),t._v(" tag.")]),t._v(" "),n("p",{staticClass:"mb-6"},[t._v("\n      When modifying response headers is not an option, we have an alternative\n      method for adding a CSP: using a meta tag.\n    ")]),t._v(" "),n("Gist",{staticClass:"mb-6",attrs:{gist:"IsaacASmith/32646ca2d62d16fd86d6bb8705b00a49",height:90}}),t._v(" "),n("p",{staticClass:"mb-6"},[t._v("\n      This meta tag will go in the <head> element of the page, before\n      our content, links, and scripts. The ‘http-equiv’ value is a constant,\n      and the ‘content’ field is the policy we would like to enforce. The\n      format for the CSP definition is the same as what would be sent in the\n      response header. To read more about how to build a content security\n      policy, go\n      "),n("a",{staticClass:"underline",attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/HTTP/CSP",rel:"nofollow",target:"_blank"}},[t._v("here")]),t._v(".\n    ")]),t._v(" "),n("p",{staticClass:"mb-6"},[t._v("\n      We can also specify multiple CSP meta tags to accomplish specific needs,\n      just like using the header-based approach.\n    ")]),t._v(" "),n("p",{staticClass:"mb-6"},[t._v("\n      We can also specify multiple CSP meta tags to accomplish specific needs,\n      just like using the header-based approach.\n    ")]),t._v(" "),n("p",{staticClass:"mb-6"},[t._v("\n      Here is a more complete example of what the head of our HTML document \n      might look like.\n    ")]),t._v(" "),n("Gist",{staticClass:"mb-6",attrs:{gist:"IsaacASmith/5a12969f6c25ae30d41835485659ea4d",height:300}}),t._v(" "),n("p",{staticClass:"mb-2 text-xl"},[n("strong",[t._v("Gotchas")])]),t._v(" "),n("p",{staticClass:"mb-6"},[t._v("\n      There are a few issues we may run in to when implementing a CSP using\n      the meta tag.\n    ")]),t._v(" "),n("p",{staticClass:"mb-2 text-lg"},[n("strong",[t._v("Including content before the CSP meta tag")])]),t._v(" "),n("p",{staticClass:"mb-6"},[t._v("\n      If any content links appear before the CSP meta tag, the CSP will not\n      apply to them. For example, the following sample will load the CSS file\n      'stealyourdata.css', even though our CSP should be blocking it.\n    ")]),t._v(" "),n("Gist",{staticClass:"mb-6",attrs:{gist:"IsaacASmith/5a12969f6c25ae30d41835485659ea4d",height:290}}),t._v(" "),n("p",{staticClass:"mb-2 text-lg"},[n("strong",[t._v("Using CSP directives not supported in meta tags")])]),t._v(" "),n("p",{staticClass:"mb-6"},[t._v("\n      There is a short list of CSP directives that will not work when\n      delivered using a meta tag. We will want to make sure our site does not\n      rely on these directives to operate. The unsupported directives are:\n      "),n("ul",{staticClass:"list-disc ml-5 mt-1"},[n("li",[t._v("\n          report-uri\n        ")]),t._v(" "),n("li",[t._v("\n          frame-ancestors\n        ")]),t._v(" "),n("li",[t._v("\n          sandbox\n        ")])])]),t._v(" "),n("p",{staticClass:"flex flex-row justify-center mt-4 mb-8 text-xl font-bold"},[t._v("\n      . . .\n    ")]),t._v(" "),n("p",{staticClass:"mb-2 text-xl"},[n("strong",[t._v("Wrap Up")])]),t._v(" "),n("p",{staticClass:"mb-6"},[t._v("\n      While delivering content security policies using a response header is \n      the preferred method, we can still meet our needs in environments where \n      we cannot control response headers. If you are interested in learning more \n      about content security policies, see the "),n("a",{staticClass:"underline",attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/HTTP/CSP",rel:"nofollow",target:"_blank"}},[t._v("official docs")]),t._v(".\n    ")])],1)],1)}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{Gist:n(248).default,PostLayout:n(247).default})}}]);